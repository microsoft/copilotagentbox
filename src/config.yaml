# Configuração Base - Copilot Agent Box
# Este arquivo contém as configurações padrão para os agentes

# ===================================================
# INFORMAÇÕES DA ORGANIZAÇÃO
# ===================================================
organization:
  name: "Sua Empresa"
  domain: "empresa.com"
  industry: "Tecnologia"
  timezone: "America/Sao_Paulo"

# ===================================================
# CONFIGURAÇÕES DO AGENTE
# ===================================================
agent:
  name: "Copilot Agent"
  version: "1.0.0"
  description: "Agente genérico para Microsoft 365 Copilot"
  type: "general"  # general, support, analysis, content
  
  # Comportamento
  behavior:
    language: "pt-BR"
    tone: "professional"      # professional, casual, friendly, formal
    style: "concise"          # concise, detailed, balanced
    verbosity: "balanced"     # concise, balanced, verbose
    response_format: "markdown"  # markdown, json, plain_text

# ===================================================
# CONFIGURAÇÕES DO MODELO (Azure OpenAI)
# ===================================================
model:
  provider: "azure-openai"
  
  # Endpoint e Autenticação
  endpoint: "${AZURE_OPENAI_ENDPOINT}"
  api_key: "${AZURE_OPENAI_API_KEY}"
  api_version: "2024-02-15-preview"
  
  # Deployment
  deployment_name: "gpt-4"
  model_name: "gpt-4"
  
  # Parâmetros de Geração
  temperature: 0.7        # 0.0 = determinístico, 1.0 = criativo
  max_tokens: 2000        # Máximo de tokens na resposta
  top_p: 0.95            # Amostragem nucleus
  frequency_penalty: 0.0  # Penalidade por repetição (-2.0 a 2.0)
  presence_penalty: 0.0   # Penalidade por presença (-2.0 a 2.0)
  
  # Timeout e Retry
  timeout: 30             # segundos
  max_retries: 3
  retry_delay: 2          # segundos

# ===================================================
# INTEGRAÇÃO COM MICROSOFT 365
# ===================================================
microsoft365:
  enabled: true
  
  # Azure AD
  tenant_id: "${MICROSOFT_TENANT_ID}"
  client_id: "${MICROSOFT_CLIENT_ID}"
  client_secret: "${MICROSOFT_CLIENT_SECRET}"
  
  # Serviços Habilitados
  services:
    teams:
      enabled: true
      permissions:
        - "ChatMessage.Send"
        - "Channel.ReadBasic.All"
    
    outlook:
      enabled: true
      permissions:
        - "Mail.Send"
        - "Mail.Read"
    
    sharepoint:
      enabled: true
      permissions:
        - "Sites.Read.All"
        - "Files.Read.All"
    
    onedrive:
      enabled: false
      permissions:
        - "Files.Read.All"

# ===================================================
# CONFIGURAÇÕES DE CONTEXTO
# ===================================================
context:
  # Armazenamento
  storage:
    type: "redis"          # redis, memory, database
    connection_string: "${REDIS_CONNECTION_STRING}"
    ttl: 3600             # Time to live em segundos (1 hora)
  
  # Limites
  max_history_length: 10   # Número máximo de mensagens no histórico
  max_context_tokens: 4000 # Tokens máximos de contexto
  
  # Comportamento
  include_user_info: true
  include_conversation_history: true
  include_system_context: true

# ===================================================
# CONFIGURAÇÕES DE PROMPTS
# ===================================================
prompts:
  # Caminhos
  system_prompt_path: "./src/prompt.md"
  templates_path: "./src/prompts/"
  
  # Customização
  enable_dynamic_prompts: true
  enable_prompt_versioning: true
  
  # Otimização
  optimize_tokens: true
  compress_whitespace: true

# ===================================================
# SEGURANÇA
# ===================================================
security:
  # Autenticação
  require_authentication: true
  
  # Autorização
  allowed_domains:
    - "empresa.com"
    - "contoso.com"
  
  allowed_roles:
    - "User"
    - "Admin"
  
  # Rate Limiting
  rate_limit:
    enabled: true
    requests_per_minute: 60
    requests_per_hour: 1000
    burst_size: 10
  
  # Validação de Input
  input_validation:
    enabled: true
    max_length: 10000        # caracteres
    blocked_patterns:
      - "<script"
      - "javascript:"
      - "onerror="
  
  # Sanitização
  sanitize_output: true
  remove_pii: false           # Remover informações pessoais identificáveis

# ===================================================
# LOGGING E MONITORAMENTO
# ===================================================
logging:
  # Nível de Log
  level: "info"              # debug, info, warn, error
  
  # Destinos
  destinations:
    - type: "console"
      enabled: true
    
    - type: "file"
      enabled: true
      path: "./logs/agent.log"
      max_size: "100MB"
      max_files: 10
    
    - type: "application-insights"
      enabled: false
      instrumentation_key: "${APPINSIGHTS_INSTRUMENTATION_KEY}"
  
  # Conteúdo
  include_user_data: false
  include_request_body: true
  include_response_body: false
  mask_sensitive_data: true

# Métricas
metrics:
  enabled: true
  provider: "application-insights"  # application-insights, prometheus, custom
  
  # Métricas customizadas
  track_latency: true
  track_token_usage: true
  track_errors: true
  track_user_satisfaction: false

# ===================================================
# CACHE
# ===================================================
cache:
  enabled: true
  type: "redis"              # redis, memory
  connection_string: "${REDIS_CONNECTION_STRING}"
  
  # Estratégia
  cache_prompts: true
  cache_responses: true
  cache_context: true
  
  # TTL (Time to Live)
  default_ttl: 3600          # 1 hora
  prompt_ttl: 86400          # 24 horas
  response_ttl: 1800         # 30 minutos

# ===================================================
# FILAS E PROCESSAMENTO ASSÍNCRONO
# ===================================================
queue:
  enabled: false
  provider: "azure-storage"   # azure-storage, rabbitmq, redis
  connection_string: "${QUEUE_CONNECTION_STRING}"
  
  # Configurações
  queue_name: "agent-messages"
  max_retries: 3
  visibility_timeout: 30     # segundos
  batch_size: 10

# ===================================================
# FEATURES E EXPERIMENTAÇÃO
# ===================================================
features:
  # Features Experimentais
  enable_streaming: false
  enable_function_calling: false
  enable_multi_turn: true
  enable_rich_formatting: true
  
  # Customização
  custom_instructions: ""
  additional_context: ""

# ===================================================
# CONFIGURAÇÕES ESPECÍFICAS POR TIPO DE AGENTE
# ===================================================

# Agente de Suporte
support_agent:
  ticket_classification:
    enabled: true
    categories:
      - "technical"
      - "billing"
      - "general"
    priority_levels:
      - "critical"
      - "high"
      - "medium"
      - "low"
  
  knowledge_base:
    enabled: true
    url: "https://kb.empresa.com"
    search_top_k: 5
  
  escalation:
    enabled: true
    threshold: "high"
    notification_email: "support-escalation@empresa.com"
  
  sla:
    response_time_critical: "1 hour"
    response_time_high: "4 hours"
    response_time_medium: "1 day"
    response_time_low: "3 days"

# Agente de Análise
analysis_agent:
  data_sources:
    - type: "sql"
      connection_string: "${SQL_CONNECTION_STRING}"
    
    - type: "api"
      endpoint: "https://api.empresa.com/data"
  
  analysis:
    confidence_threshold: 0.8
    max_insights: 5
    enable_predictions: true
  
  visualization:
    tool: "power-bi"
    auto_generate: false

# Agente de Conteúdo
content_agent:
  content_types:
    - "email"
    - "report"
    - "documentation"
    - "presentation"
  
  settings:
    default_word_count: 500
    default_tone: "professional"
    enable_grammar_check: true
    enable_plagiarism_check: false
  
  templates:
    path: "./templates/"
    auto_apply: true
  
  approval:
    required: false
    approvers:
      - "manager@empresa.com"

# ===================================================
# DESENVOLVIMENTO E DEBUG
# ===================================================
development:
  debug_mode: false
  verbose_logging: false
  save_prompts: false
  save_responses: false
  
  # Mock de Serviços (para testes)
  mock_llm: false
  mock_microsoft365: false

# ===================================================
# BACKUP E RECOVERY
# ===================================================
backup:
  enabled: false
  schedule: "0 2 * * *"      # Cron: 2 AM diariamente
  retention_days: 30
  storage:
    type: "azure-blob"
    connection_string: "${BACKUP_STORAGE_CONNECTION_STRING}"
    container: "agent-backups"

# ===================================================
# NOTIFICAÇÕES
# ===================================================
notifications:
  enabled: false
  
  channels:
    email:
      enabled: false
      smtp_server: "smtp.empresa.com"
      from: "agent@empresa.com"
    
    teams:
      enabled: false
      webhook_url: "${TEAMS_WEBHOOK_URL}"
    
    slack:
      enabled: false
      webhook_url: "${SLACK_WEBHOOK_URL}"
  
  events:
    on_error: true
    on_escalation: true
    on_high_load: false

# ===================================================
# COMPLIANCE E AUDITORIA
# ===================================================
compliance:
  # Regulamentações
  gdpr_compliant: true
  lgpd_compliant: true
  hipaa_compliant: false
  
  # Auditoria
  audit_trail:
    enabled: true
    log_all_interactions: true
    retention_days: 365
  
  # Data Retention
  data_retention:
    user_data: 365           # dias
    conversation_history: 90
    logs: 180

# ===================================================
# CUSTOMIZAÇÃO AVANÇADA
# ===================================================
custom:
  # Adicione suas configurações customizadas aqui
  custom_field_1: "value1"
  custom_field_2: "value2"
